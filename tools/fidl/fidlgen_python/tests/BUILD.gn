# Copyright 2025 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/python/python_host_test.gni")
import("//build/testing/host_test_data.gni")

python_host_test("fidlgen_python_external_library_test") {
  main_source = "test_external_library.py"
  libraries = [ "fidl:test.python.struct_python" ]
  test_data_deps = [
    "fidl:test.python.struct_host_test_data",
    "//src/developer/ffx/lib/fuchsia-controller/tests:fuchsia_controller_host_test_data",
  ]
}

python_host_test("fidlgen_python_const_test") {
  main_source = "test_const.py"
  libraries = [ "//tools/fidl/fidlc/testdata:test.constants_python" ]
  test_data_deps = [
    "//src/developer/ffx/lib/fuchsia-controller/tests:fuchsia_controller_host_test_data",
    "//tools/fidl/fidlc/testdata:test.constants_host_test_data",
  ]
}

python_host_test("fidlgen_python_method_response_types_test") {
  main_source = "test_method_response_types.py"
  libraries = [ "fidl:test.python.protocol_python" ]
  test_data_deps = [
    "fidl:test.python.protocol_host_test_data",
    "//src/developer/ffx/lib/fuchsia-controller/tests:fuchsia_controller_host_test_data",
  ]
}

# Test for ability to compile types associated with all protocol method shapes.
group("fidlgen_python_protocol_compile_test") {
  testonly = true
  deps = [ "fidl:test.python.protocol_python" ]
}
